# 24. 맴버 클래스는 되도록 static으로 만들라



## 중첩 클래스

중첩클래스의 종류는 4가지가 있다.

* 정적 맴버 클래스
* 비정적 멤버 클래스
* 익명 클래스
* 지역 클래스



### 정적 맴버 클래스

 정적 맴버 클래스는 흔히 바깥 클래스와 함꼐 쓰일때만 유용한 public도우미 클래스로 쓰인다.

 ex) 계산기가 지원하는 연산 종류를 정의하는 열거타입을 예로 생각해보자 (item 34)

Operation 열거 타입은 Calculator 클래스의 public 정적 멤버 클래스가 되어야 한다. 그러면 Calculator의 클라이언트에서 Calculator.Operation.PLUS나 Calculator.Operation.PLUSMinus의 형태로 원하는 연산을 참조 할 수 있다.



### 비정적 맴버 클래스

 정적 맴버와 비정적 맴버의 구문상 차이는 static이 붙어있고 없고 뿐이지만 의미상으로는 크다. **비정적 맴버 클래스의 인스턴스는 바깥 클래스의 인스턴스와 암묵적으로 연결된다.** 그래서 정규화된 this( 클래스명.this )를 사용하여 바깥 인스턴스의 참조를 가져올수 있다. 

 **맴버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들어야 한다.** static을 생략하면 바깥 인스턴스로 숨은 외부 참조를 가지게 되고 참조를 저장하려면 시간과 공간이 소비된다. 또한 가비지 컬랙션이 바깥 인스턴스를 수거하지 못하면 메모리 누수가 생길 수도 있다.



### 익명 클래스

익명 클래스는 쓰이는 시점에 선언과 동시에 인스턴스가 만들어 지며 어디서든지 만들 수 있다. 그리고 오직 비정적인 문맥에서 사용될때만 바깥클래스의 인스턴스를 참조 할 수 있다. 익명클래스는 응용하는데 제약이 많은 편이다. 게다가 코드 중간에 등장하므로 짧지 않으면 가독성 까지 덜어진다. **람다가 등장하기 전에 즉석에서 작은 함수 객체나 처리 객체를 만드는데 사용했지만 람데에게 자리를 내주었다.**



### 지역 클래스

지역클래스는 중첩 클래스 중 가장 드물게 사용한다. 지역 클래스는 지역변수를 전언 할 수 있는 곳이면 어디서든 실질적으로 선언할 수 있으며 유효범위도 지역변수와 같다. 맴버 클래스처럼 이름이 있고 반복사용이 가능하며, 익명 클래스처럼 비 정적 문멕에서 사용될때만 바깥을 참조 할 수 있다. 정적 맴버는 못가지며 가독성을 위해 짧게 작성해야 한다.

